<nz-content>
  <div nz-row>
    <div nz-col nzSpan="24">
      <nz-page-header nzTitle="ผู้ป่วย"></nz-page-header>
    </div>
  </div>

  <div nz-row>
    <div nz-col nzSpan="24">
      <nz-card>
        <div nz-row>
          <div nz-col nzSpan="12" class="text-right">
            <nz-input-group [nzSuffix]="suffixIconSearch">
              <input
                type="text"
                nz-input
                placeholder="ค้นหา"
                [(ngModel)]="searchValue"
                (ngModelChange)="onSearchChange($event)"
              />
            </nz-input-group>
            <ng-template #suffixIconSearch>
              <i nz-icon nzType="search"></i>
            </ng-template>
          </div>
          <div nz-col nzSpan="12" class="text-right">
            <button nz-button nzType="primary" [nzSize]="size" nzShape="round">
              <i nz-icon nzType="plus-circle"></i>เพิ่มผู้ป่วย
            </button>
            <button nz-button nzType="danger" [nzSize]="size" nzShape="round">
              <i nz-icon nzType="minus-circle"></i>ลบผู้ป่วย
            </button>
          </div>
        </div>
        <nz-table
          #rowSelectionTable
          nzShowSizeChanger
          [nzData]="memberData"
          (nzPageSizeChange)="pageSizeChange($event)"
          [nzSize]="middle"
          [nzLoading]="isLoading"
          [nzFrontPagination]="false"
          [nzTotal]="pageTotal"
          (nzPageIndexChange)="pageChange($event)"
        >
          <thead (nzSortChange)="onSort($event)" nzSingleSort>
            <tr>
              <th nzShowSort nzSortKey="hn">HN</th>
              <th nzShowSort nzSortKey="name">ชื่อ-สกลุ</th>
              <th nzShowSort nzSortKey="address">ที่อยู่</th>
              <th nzShowSort nzSortKey="birtdate">วันเดือนปี เกิด</th>
              <th nzShowSort nzSortKey="disease">โรคประจำตัว</th>
              <th nzShowSort nzSortKey="allegric">แพ้ยา</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of rowSelectionTable.data">
              <td>{{ data.hn }}</td>
              <td>{{ data.name }}</td>
              <td>{{ data.address }}</td>
              <td>{{ data.birtdate }}</td>
              <td>{{ data.disease }}</td>
              <td>{{ data.allegric }}</td>
            </tr>
          </tbody>
        </nz-table>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <div class="search-box">
            <input
              type="text"
              nz-input
              placeholder="Search name"
              [(ngModel)]="searchValue"
            />
            <button
              nz-button
              nzSize="small"
              nzType="primary"
              (click)="search()"
              class="search-button"
            >
              Search
            </button>
            <button nz-button nzSize="small" (click)="reset()">Reset</button>
          </div>
        </nz-dropdown-menu>
      </nz-card>
    </div>
  </div>
</nz-content>
